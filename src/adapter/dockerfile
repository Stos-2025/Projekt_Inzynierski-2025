FROM alpine:3.20

RUN apk add --no-cache python3 py3-pip
RUN pip install --break-system-packages requests

RUN addgroup -S stos
RUN adduser -S stos -G stos

ENV MASTER_URL=http://master:80

WORKDIR /app
COPY adapter.py .

ENTRYPOINT ["python3", "-u", "adapter.py"]

#docker build -t adapter ./src/adapter
