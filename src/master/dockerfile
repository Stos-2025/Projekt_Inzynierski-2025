FROM alpine:3.14

RUN apk add --no-cache python3 py3-pip
RUN pip install fastapi uvicorn python-multipart

RUN addgroup -S mastergroup
RUN adduser -S masteruser -G mastergroup

WORKDIR /app
COPY master.py .
COPY submission.py .

ENTRYPOINT ["uvicorn", "master:app", "--host", "0.0.0.0", "--port", "80"]

#docker build -t master ./src/master
